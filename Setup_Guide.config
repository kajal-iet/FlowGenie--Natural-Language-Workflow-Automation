
# üìå `SETUP.md`

# üîß FlowGenie ‚Äî Setup & Configuration Guide

This document explains how to set up all APIs and environment variables needed to run FlowGenie.

---

## ‚ö† Create a `.env` File

Copy `.env.example` and fill in real values:

GOOGLE_API_KEY=<your Gemini API key>
USE_REAL_APIS=true

SLACK_WEBHOOK_URL=<Slack incoming webhook URL>

SHEETS_SPREADSHEET_ID=<Google Sheet ID>
SHEETS_TAB_NAME=Sheet1

GOOGLE_SERVICE_ACCOUNT_JSON=<raw JSON or path to .json file>

GMAIL_SENDER_EMAIL=<email to send from>

CALENDAR_ID=<Google Calendar ID>

---

## üîë Required Services

### 1Ô∏è‚É£ Gemini API
Go to: https://aistudio.google.com  
Create an API key ‚Üí paste into `.env` as `GOOGLE_API_KEY`

---

### 2Ô∏è‚É£ Slack Webhook

1. Go to Slack ‚Üí **Apps ‚Üí Create ‚Üí Incoming Webhooks**
2. Select workspace & channel (`#new-channel`)
3. Copy webhook URL
4. Add to `.env`:

SLACK_WEBHOOK_URL=https://hooks.slack.com/services/XXXXX/XXXXX/XXXXX

---

### 3Ô∏è‚É£ Google Service Account (Sheets, Gmail, Calendar)

#### Create
- Google Cloud Console ‚Üí IAM ‚Üí Service Accounts
- Create ‚Üí Add Key ‚Üí JSON
- Copy content ‚Üí store in `.env` as `GOOGLE_SERVICE_ACCOUNT_JSON`

#### Enable APIs
- Google Sheets API
- Gmail API
- Google Calendar API

#### Assign roles
- **Editor** or **Specific API Roles**
- For Gmail and Calendar, add **Domain-wide Delegation**
- Add the authorized user email to `.env`:

GMAIL_SENDER_EMAIL=<your email here>


---

### 4Ô∏è‚É£ Sheets Setup

Create a sheet ‚Üí get its ID from the URL:

https://docs.google.com/spreadsheets/d/THIS_IS_THE_ID/edit

pgsql
Copy code

Add to `.env`:

SHEETS_SPREADSHEET_ID=<ID>
SHEETS_TAB_NAME=Sheet1

Share the sheet with your service account email.

---

### 5Ô∏è‚É£ Calendar Setup

Go to Google Calendar ‚Üí Settings ‚Üí Calendar ‚Üí "Integrate Calendar"  
Copy calendar ID:

CALENDAR_ID=xxxx@group.calendar.google.com

Share calendar with the service account email.

---

## üóÑ Database

FlowGenie uses SQLite to persist memory and sessions.

No setup required ‚Äî the DB file is created automatically:

'flowgenie_sessions.db'

Delete to reset:
rm flowgenie_sessions.db # or delete manually


---

## üß™ Test API tools

### Slack
from tools import slack_send_notification
slack_send_notification("#test", "hello world")


### Sheets
from tools import sheets_append_row
sheets_append_row(["1001", "test", "demo", "working"])

### Gmail
gmail_send_email("someone@example.com", "Test", "Body text")


### Calendar
calendar_create_event(CALENDAR_ID, "Test Event", "2025-01-01T10:00:00", "2025-01-01T11:00:00")


---

## üëå You're Ready

Once `.env` is set, just run:

prompt = "Send a Slack notification to #team saying deployment completed successfully."
print(await handle_user_input(prompt, session_id="prod"))


üéâ FlowGenie will plan ‚Üí evaluate ‚Üí execute the workflow end-to-end.